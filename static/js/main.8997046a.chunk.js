(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{102:function(e,t,n){},103:function(e,t,n){},123:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){},128:function(e,t,n){},129:function(e,t,n){},130:function(e,t,n){},134:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(22),s=n.n(c),i=(n(77),n(18)),o=n(3),l=r.a.forwardRef((function(e,t){var n=r.a.useState(!1),a=Object(i.a)(n,2),c=a[0],l=a[1];r.a.useImperativeHandle(t,(function(){return{openNavBar:function(){return u()},closeNavBar:function(){return j()}}}));var u=function(){l(!0)},j=function(){l(!1)};return c?s.a.createPortal(Object(o.jsxs)("div",{className:"modal-wrapper",children:[Object(o.jsx)("div",{onClick:j,className:"modal-backdrop"}),Object(o.jsx)("div",{className:"modal-box",children:e.children})]}),document.getElementById("root")):null})),u=n(14),j=n(48);var d=function(){var e=Object(a.useState)(function(){var e=localStorage.getItem("token"),t=JSON.parse(e);return t||void 0}()),t=Object(i.a)(e,2),n=t[0],r=t[1];return{setToken:function(e){localStorage.setItem("token",JSON.stringify(e)),r(e.token)},token:n}};n(102);var b=function(){var e=r.a.useRef(),t=function(){e.current.openNavBar()};return d().token?Object(o.jsxs)(r.a.Fragment,{children:[Object(o.jsx)(j.c,{size:"2x",className:"icon",onClick:t,icon:"bars"}),Object(o.jsx)(l,{ref:e,children:Object(o.jsx)("div",{className:"div-nav-bar",children:Object(o.jsx)("div",{className:"div-nav-elements",children:Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{children:Object(o.jsx)(u.c,{exact:!0,activeClassName:"current",to:"/ListsWeb/",children:"Home"})}),Object(o.jsx)("li",{children:Object(o.jsx)(u.c,{exact:!0,activeClassName:"current",to:"/ListsWeb/anime",children:"Anime"})})]})})})})]}):Object(o.jsxs)(r.a.Fragment,{children:[Object(o.jsx)(j.c,{size:"2x",className:"icon",onClick:t,icon:"bars"}),Object(o.jsx)(l,{ref:e,children:Object(o.jsx)("div",{className:"div-nav-bar",children:Object(o.jsx)("div",{className:"div-nav-elements",children:Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{children:Object(o.jsx)(u.c,{exact:!0,activeClassName:"current",to:"/ListsWeb/",children:"Home"})}),Object(o.jsx)("li",{children:Object(o.jsx)(u.c,{exact:!0,activeClassName:"current",to:"/ListsWeb/auth",children:"Authenticate"})})]})})})})]})},h=(n(103),function(){return Object(o.jsxs)(r.a.Fragment,{children:[Object(o.jsx)(b,{}),Object(o.jsx)("div",{className:"title",children:Object(o.jsx)("h1",{className:"lists",children:"Lists Web"})})]})}),p=n(8),O=n(32),x=n(13),m=n.n(x),v=n(20),f=n(21),g=n(12),w=n(23),y=n.n(w),k=n(31),N=n.n(k);n(123);function C(e){return S.apply(this,arguments)}function S(){return(S=Object(v.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("http://127.0.0.1:8000/api/signup/",t).then((function(e){return e.data})).catch((function(e){console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L=function(e){var t=e.setToken,n=Object(a.useState)(!1),c=Object(i.a)(n,2),s=c[0],l=c[1],u=Object(a.useState)(),j=Object(i.a)(u,2),d=j[0],b=j[1],h=Object(a.useState)(),p=Object(i.a)(h,2),O=p[0],x=p[1],w=new FormData,y=function(){var e=Object(v.a)(m.a.mark((function e(n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==n.currentTarget.checkValidity()){e.next=5;break}return n.preventDefault(),n.stopPropagation(),e.abrupt("return");case 5:return l(!0),w.append("username",d),w.append("password",O),e.next=10,C(w);case 10:(null===(a=e.sent)||void 0===a?void 0:a.token)?(window.location.href="http://localhost:3000/ListsWeb/",t(a.token)):"A user with that username already exists."===(null===a||void 0===a?void 0:a.username[0])?N.a.fire({title:"Oops...",text:"A user with that username already exists",icon:"error",willClose:function(){window.location.reload(!1)}}):N.a.fire({title:"Oops...",text:"Something went wrong",icon:"error",willClose:function(){window.location.reload(!1)}});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)(r.a.Fragment,{children:[Object(o.jsx)("br",{}),Object(o.jsxs)(g.a,{noValidate:!0,validated:s,onSubmit:y,children:[Object(o.jsxs)(g.a.Group,{controlId:"formUsername",children:[Object(o.jsx)(g.a.Label,{children:"Username"}),Object(o.jsx)(g.a.Control,{required:!0,type:"text",placeholder:"Enter username",onChange:function(e){return b(e.target.value)}})]}),Object(o.jsxs)(g.a.Group,{controlId:"formBasicPassword",children:[Object(o.jsx)(g.a.Label,{children:"Password"}),Object(o.jsx)(g.a.Control,{required:!0,type:"password",placeholder:"Password",onChange:function(e){return x(e.target.value)}})]}),Object(o.jsx)(f.a,{variant:"primary",type:"submit",children:"Sign Up"})]})]})};n(125);function T(e){return I.apply(this,arguments)}function I(){return(I=Object(v.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("http://127.0.0.1:8000/api/login/",t).then((function(e){return e.data})).catch((function(e){console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var B=function(e){var t=e.setToken,n=Object(a.useState)(!1),c=Object(i.a)(n,2),s=c[0],l=c[1],u=Object(a.useState)(),j=Object(i.a)(u,2),d=j[0],b=j[1],h=Object(a.useState)(),p=Object(i.a)(h,2),O=p[0],x=p[1],w=new FormData,y=function(){var e=Object(v.a)(m.a.mark((function e(n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!1===n.currentTarget.checkValidity()&&(n.preventDefault(),n.stopPropagation()),l(!0),w.append("username",d),w.append("password",O),e.next=7,T(w);case 7:(null===(a=e.sent)||void 0===a?void 0:a.token)?(window.location.href="http://localhost:3000/ListsWeb/",t(a.token)):"Unable to log in with provided credentials."===(null===a||void 0===a?void 0:a.non_field_errors[0])?N.a.fire({title:"Oops...",text:"You have introduced wrong username or password",icon:"error",willClose:function(){window.location.reload(!1)}}):N.a.fire({title:"Oops...",text:"Something went wrong",icon:"error",willClose:function(){window.location.reload(!1)}});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)(r.a.Fragment,{children:[Object(o.jsx)("br",{}),Object(o.jsxs)(g.a,{noValidate:!0,validated:s,onSubmit:y,children:[Object(o.jsxs)(g.a.Group,{controlId:"formUsername",children:[Object(o.jsx)(g.a.Label,{children:"Username"}),Object(o.jsx)(g.a.Control,{required:!0,type:"text",placeholder:"Enter username",onChange:function(e){return b(e.target.value)}})]}),Object(o.jsxs)(g.a.Group,{controlId:"formBasicPassword",children:[Object(o.jsx)(g.a.Label,{children:"Password"}),Object(o.jsx)(g.a.Control,{required:!0,type:"password",placeholder:"Password",onChange:function(e){return x(e.target.value)}})]}),Object(o.jsx)(f.a,{variant:"primary",type:"submit",children:"Log in"})]})]})};n(126);function F(e){return e.url.includes("sign")?Object(o.jsx)(L,{setToken:e.setToken}):Object(o.jsx)(B,{setToken:e.setToken})}var A=function(){var e=d().setToken;return Object(o.jsxs)(r.a.Fragment,{children:[Object(o.jsx)(b,{}),Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(p.a.Header,{children:Object(o.jsxs)(O.a,{fill:!0,className:"justify-content-center",variant:"tabs",defaultActiveKey:"#login",children:[Object(o.jsx)(O.a.Item,{children:Object(o.jsx)(O.a.Link,{href:"#login",children:"Log in"})}),Object(o.jsx)(O.a.Item,{children:Object(o.jsx)(O.a.Link,{href:"#sign",children:"Sign up"})})]})}),Object(o.jsx)(p.a.Body,{children:Object(o.jsx)(F,{url:window.location.href,setToken:e})})]})})]})},D=n(27),W=n(28),P=n(30),V=n(29),_=(n(127),function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(){var e;Object(D.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleClick=function(t){t.preventDefault(),document.getElementById("input-bar").checkValidity()&&e.props.value(document.getElementById("input-bar").value)},e}return Object(W.a)(n,[{key:"render",value:function(){return Object(o.jsx)(r.a.Fragment,{children:Object(o.jsx)("div",{className:"container",children:Object(o.jsx)("form",{autoComplete:"off",children:Object(o.jsxs)("div",{className:"tb",children:[Object(o.jsx)("div",{className:"td",children:Object(o.jsx)("input",{id:"input-bar",className:"input-bar",type:"text",placeholder:"Search",required:!0})}),Object(o.jsx)("div",{className:"td",id:"cover",children:Object(o.jsxs)("button",{className:"button-bar",type:"submit",onClick:this.handleClick,children:[Object(o.jsx)("div",{className:"circle"}),Object(o.jsx)("span",{className:"button-span"})]})})]})})})})}}]),n}(a.Component)),U=n(139),E=n(38),q=n.n(E);n(128);function M(e){return 0===e.counter?Object(o.jsx)("div",{className:"container",children:Object(o.jsx)("h1",{children:"No matching items"})}):Object(o.jsx)("p",{})}function G(e){var t=e%3;return 1===t?Object(o.jsxs)(r.a.Fragment,{children:[Object(o.jsxs)(p.a,{className:"item_card_hidden",children:[Object(o.jsx)(p.a.Img,{variant:"top"}),Object(o.jsxs)(p.a.Body,{children:[Object(o.jsx)(p.a.Title,{}),Object(o.jsx)(p.a.Text,{}),Object(o.jsx)(f.a,{variant:"primary",children:"View More"})]})]}),Object(o.jsxs)(p.a,{className:"item_card_hidden",children:[Object(o.jsx)(p.a.Img,{variant:"top"}),Object(o.jsxs)(p.a.Body,{children:[Object(o.jsx)(p.a.Title,{}),Object(o.jsx)(p.a.Text,{}),Object(o.jsx)(f.a,{variant:"primary",children:"View More"})]})]})]}):2===t?Object(o.jsxs)(p.a,{className:"item_card_hidden",children:[Object(o.jsx)(p.a.Img,{variant:"top"}),Object(o.jsxs)(p.a.Body,{children:[Object(o.jsx)(p.a.Title,{}),Object(o.jsx)(p.a.Text,{}),Object(o.jsx)(f.a,{variant:"primary",children:"View More"})]})]}):Object(o.jsx)("p",{})}var H=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(){var e;Object(D.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={myArray:[]},e}return Object(W.a)(n,[{key:"getData",value:function(){var e=Object(v.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("https://recipes-backend-web.herokuapp.com/api/"+t+"/").then((function(e){var t=[[]],n=0,a=0;for(var r in e.data)3===a&&(a=0,t[++n]=[]),t[n].push(e.data[r]),a++;return t}));case 2:n=e.sent,this.setState({myArray:n});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getDataCustom",value:function(){var e=Object(v.a)(m.a.mark((function e(t,n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("https://recipes-backend-web.herokuapp.com/api/"+n+"/").then((function(e){var n=[[]],a=0,r=0;for(var c in e.data)3===r&&(r=0,n[++a]=[]),e.data[c].title.includes(t)&&(n[a].push(e.data[c]),r++);return n}));case 2:a=e.sent,this.setState({myArray:a});case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){this.props.value!==e.value&&this.getDataCustom(this.props.value,this.props.url)}},{key:"componentDidMount",value:function(){q()(".item_card").hover((function(){q()(this).animate({marginTop:"-=1%",marginBottom:"1%"},200)}),(function(){q()(this).animate({marginTop:"0%",marginBottom:"0%"},200)})),this.getData(this.props.url)}},{key:"render",value:function(){var e=this,t=0;return Object(o.jsxs)(r.a.Fragment,{children:[this.state.myArray.map((function(n,a){return Object(o.jsxs)(U.a,{className:"deck",children:[n.map((function(n,a){t++;var r="/ListsWeb/"+e.props.url+"/info/"+n.id;return Object(o.jsxs)(p.a,{className:"item_card",children:[Object(o.jsx)(p.a.Img,{variant:"top",src:n.image}),Object(o.jsxs)(p.a.Body,{children:[Object(o.jsx)(p.a.Title,{children:n.title}),Object(o.jsx)(u.c,{exact:!0,activeClassName:"current",to:r,children:Object(o.jsx)(f.a,{variant:"primary",children:"View More"})})]})]},a)})),G(t)]},a)})),Object(o.jsx)("div",{className:"wrap",children:Object(o.jsx)(M,{counter:t})})]})}}]),n}(a.Component),J=(n(129),function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(){var e;Object(D.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={value:""},e.handleValue=function(t){e.setState({value:t})},e}return Object(W.a)(n,[{key:"render",value:function(){return Object(o.jsxs)(r.a.Fragment,{children:[Object(o.jsx)(b,{}),Object(o.jsx)(_,{value:this.handleValue}),Object(o.jsx)("div",{className:"item-deck",children:Object(o.jsx)(H,{value:this.state.value,url:"anime"})})]})}}]),n}(a.Component)),z=(n(130),n(131),n(10));n(132);var R=function(){return d().token?Object(o.jsx)("div",{className:"App",children:Object(o.jsxs)(z.c,{children:[Object(o.jsx)(z.a,{exact:!0,path:"/ListsWeb/",component:h}),Object(o.jsx)(z.a,{exact:!0,path:"/ListsWeb/anime",component:J})]})}):Object(o.jsx)("div",{className:"App",children:Object(o.jsxs)(z.c,{children:[Object(o.jsx)(z.a,{exact:!0,path:"/ListsWeb/",component:h}),Object(o.jsx)(z.a,{exact:!0,path:"/ListsWeb/auth",component:A})]})})},K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,140)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};n(133);s.a.render(Object(o.jsx)(u.a,{children:Object(o.jsx)(R,{})}),document.getElementById("root")),K()},77:function(e,t,n){}},[[134,1,2]]]);
//# sourceMappingURL=main.8997046a.chunk.js.map